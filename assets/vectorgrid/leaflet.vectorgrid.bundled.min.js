!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.geojsonvt=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i?i:t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){"use strict";function r(t,e,i,r,s,a,u,f){if(i/=e,r/=e,u>=i&&r>=f)return t;if(u>r||i>f)return null;for(var h=[],l=0;l<t.length;l++){var c,p,d=t[l],v=d.geometry,g=d.type;if(c=d.min[s],p=d.max[s],c>=i&&r>=p)h.push(d);else if(!(c>r||i>p)){var y=1===g?n(v,i,r,s):o(v,i,r,s,a,3===g);y.length&&h.push({geometry:y,type:g,tags:t[l].tags||null,min:d.min,max:d.max})}}return h.length?h:null}function n(t,e,i,r){for(var n=[],o=0;o<t.length;o++){var s=t[o],a=s[r];a>=e&&i>=a&&n.push(s)}return n}function o(t,e,i,r,n,o){for(var a=[],u=0;u<t.length;u++){var f,h,l,c=0,p=0,d=null,v=t[u],g=v.area,y=v.dist,m=v.length,x=[];for(h=0;m-1>h;h++)f=d||v[h],d=v[h+1],c=p||f[r],p=d[r],e>c?p>i?(x.push(n(f,d,e),n(f,d,i)),o||(x=s(a,x,g,y))):p>=e&&x.push(n(f,d,e)):c>i?e>p?(x.push(n(f,d,i),n(f,d,e)),o||(x=s(a,x,g,y))):i>=p&&x.push(n(f,d,i)):(x.push(f),e>p?(x.push(n(f,d,e)),o||(x=s(a,x,g,y))):p>i&&(x.push(n(f,d,i)),o||(x=s(a,x,g,y))));f=v[m-1],c=f[r],c>=e&&i>=c&&x.push(f),l=x[x.length-1],o&&l&&(x[0][0]!==l[0]||x[0][1]!==l[1])&&x.push(x[0]),s(a,x,g,y)}return a}function s(t,e,i,r){return e.length&&(e.area=i,e.dist=r,t.push(e)),[]}e.exports=r},{}],2:[function(t,e,i){"use strict";function r(t,e){var i=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)n(i,t.features[r],e);else"Feature"===t.type?n(i,t,e):n(i,{geometry:t},e);return i}function n(t,e,i){var r,u,f,h=e.geometry,l=h.type,c=h.coordinates,p=e.properties;if("Point"===l)t.push(o(p,1,[a(c)]));else if("MultiPoint"===l)t.push(o(p,1,s(c)));else if("LineString"===l)t.push(o(p,2,[s(c,i)]));else if("MultiLineString"===l||"Polygon"===l){for(f=[],r=0;r<c.length;r++)f.push(s(c[r],i));t.push(o(p,"Polygon"===l?3:2,f))}else if("MultiPolygon"===l){for(f=[],r=0;r<c.length;r++)for(u=0;u<c[r].length;u++)f.push(s(c[r][u],i));t.push(o(p,3,f))}else{if("GeometryCollection"!==l)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<h.geometries.length;r++)n(t,{geometry:h.geometries[r],properties:p},i)}}function o(t,e,i){var r={geometry:i,type:e,tags:t||null,min:[2,1],max:[-1,0]};return f(r),r}function s(t,e){for(var i=[],r=0;r<t.length;r++)i.push(a(t[r]));return e&&(l(i,e),u(i)),i}function a(t){var e=Math.sin(t[1]*Math.PI/180),i=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=-1>r?-1:r>1?1:r,[i,r,0]}function u(t){for(var e,i,r=0,n=0,o=0;o<t.length-1;o++)e=i||t[o],i=t[o+1],r+=e[0]*i[1]-i[0]*e[1],n+=Math.abs(i[0]-e[0])+Math.abs(i[1]-e[1]);t.area=Math.abs(r/2),t.dist=n}function f(t){var e=t.geometry,i=t.min,r=t.max;if(1===t.type)h(i,r,e);else for(var n=0;n<e.length;n++)h(i,r,e[n]);return t}function h(t,e,i){for(var r,n=0;n<i.length;n++)r=i[n],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r;var l=t("./simplify")},{"./simplify":4}],3:[function(t,e,i){"use strict";function r(t,e){return new n(t,e)}function n(t,e){e=this.options=u(Object.create(this.options),e);var i=e.debug;i&&console.time("preprocess data");var r=1<<e.maxZoom,n=h(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=p(n,e.buffer/e.extent,s),n.length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,i){return 32*((1<<t)*i+e)+t}function s(t,e,i){return[i,(i-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function a(t,e,i){return[(i-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],i,1]}function u(t,e){for(var i in e)t[i]=e[i];return t}function f(t,e,i){var r=t.source;if(1!==r.length)return!1;var n=r[0];if(3!==n.type||n.geometry.length>1)return!1;var o=n.geometry[0].length;if(5!==o)return!1;for(var s=0;o>s;s++){var a=l.point(n.geometry[0][s],e,t.z2,t.x,t.y);if(a[0]!==-i&&a[0]!==e+i||a[1]!==-i&&a[1]!==e+i)return!1}return!0}e.exports=r;var h=t("./convert"),l=t("./transform"),c=t("./clip"),p=t("./wrap"),d=t("./tile");n.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},n.prototype.splitTile=function(t,e,i,r,n,u,h){for(var l=[t,e,i,r],p=this.options,v=p.debug,g=null;l.length;){r=l.pop(),i=l.pop(),e=l.pop(),t=l.pop();var y=1<<e,m=o(e,i,r),x=this.tiles[m],w=e===p.maxZoom?0:p.tolerance/(y*p.extent);if(!x&&(v>1&&console.time("creation"),x=this.tiles[m]=d(t,y,i,r,w,e===p.maxZoom),this.tileCoords.push({z:e,x:i,y:r}),v)){v>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,r,x.numFeatures,x.numPoints,x.numSimplified),console.timeEnd("creation"));var b="z"+e;this.stats[b]=(this.stats[b]||0)+1,this.total++}if(x.source=t,n){if(e===p.maxZoom||e===n)continue;var _=1<<n-e;if(i!==Math.floor(u/_)||r!==Math.floor(h/_))continue}else if(e===p.indexMaxZoom||x.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!f(x,p.extent,p.buffer)){x.source=null,v>1&&console.time("clipping");var L,F,M,E,V,S,P=.5*p.buffer/p.extent,T=.5-P,k=.5+P,C=1+P;L=F=M=E=null,V=c(t,y,i-P,i+k,0,s,x.min[0],x.max[0]),S=c(t,y,i+T,i+C,0,s,x.min[0],x.max[0]),V&&(L=c(V,y,r-P,r+k,1,a,x.min[1],x.max[1]),F=c(V,y,r+T,r+C,1,a,x.min[1],x.max[1])),S&&(M=c(S,y,r-P,r+k,1,a,x.min[1],x.max[1]),E=c(S,y,r+T,r+C,1,a,x.min[1],x.max[1])),v>1&&console.timeEnd("clipping"),L&&l.push(L,e+1,2*i,2*r),F&&l.push(F,e+1,2*i,2*r+1),M&&l.push(M,e+1,2*i+1,2*r),E&&l.push(E,e+1,2*i+1,2*r+1)}else n&&(g=e)}return g},n.prototype.getTile=function(t,e,i){var r=this.options,n=r.extent,s=r.debug,a=1<<t;e=(e%a+a)%a;var u=o(t,e,i);if(this.tiles[u])return l.tile(this.tiles[u],n);s>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var h,c=t,p=e,d=i;!h&&c>0;)c--,p=Math.floor(p/2),d=Math.floor(d/2),h=this.tiles[o(c,p,d)];if(!h||!h.source)return null;if(s>1&&console.log("found parent tile z%d-%d-%d",c,p,d),f(h,n,r.buffer))return l.tile(h,n);s>1&&console.time("drilling down");var v=this.splitTile(h.source,c,p,d,t,e,i);if(s>1&&console.timeEnd("drilling down"),null!==v){var g=1<<t-v;u=o(v,Math.floor(e/g),Math.floor(i/g))}return this.tiles[u]?l.tile(this.tiles[u],n):null}},{"./clip":1,"./convert":2,"./tile":5,"./transform":6,"./wrap":7}],4:[function(t,e,i){"use strict";function r(t,e){var i,r,o,s,a=e*e,u=t.length,f=0,h=u-1,l=[];for(t[f][2]=1,t[h][2]=1;h;){for(r=0,i=f+1;h>i;i++)o=n(t[i],t[f],t[h]),o>r&&(s=i,r=o);r>a?(t[s][2]=r,l.push(f),l.push(s),f=s):(h=l.pop(),f=l.pop())}}function n(t,e,i){var r=e[0],n=e[1],o=i[0],s=i[1],a=t[0],u=t[1],f=o-r,h=s-n;if(0!==f||0!==h){var l=((a-r)*f+(u-n)*h)/(f*f+h*h);l>1?(r=o,n=s):l>0&&(r+=f*l,n+=h*l)}return f=a-r,h=u-n,f*f+h*h}e.exports=r},{}],5:[function(t,e,i){"use strict";function r(t,e,i,r,o,s){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){a.numFeatures++,n(a,t[u],o,s);var f=t[u].min,h=t[u].max;f[0]<a.min[0]&&(a.min[0]=f[0]),f[1]<a.min[1]&&(a.min[1]=f[1]),h[0]>a.max[0]&&(a.max[0]=h[0]),h[1]>a.max[1]&&(a.max[1]=h[1])}return a}function n(t,e,i,r){var n,o,s,a,u=e.geometry,f=e.type,h=[],l=i*i;if(1===f)for(n=0;n<u.length;n++)h.push(u[n]),t.numPoints++,t.numSimplified++;else for(n=0;n<u.length;n++)if(s=u[n],r||!(2===f&&s.dist<i||3===f&&s.area<l)){var c=[];for(o=0;o<s.length;o++)a=s[o],(r||a[2]>l)&&(c.push(a),t.numSimplified++),t.numPoints++;h.push(c)}else t.numPoints+=s.length;h.length&&t.features.push({geometry:h,type:f,tags:e.tags||null})}e.exports=r},{}],6:[function(t,e,i){"use strict";function r(t,e){if(t.transformed)return t;var i,r,o,s=t.z2,a=t.x,u=t.y;for(i=0;i<t.features.length;i++){var f=t.features[i],h=f.geometry,l=f.type;if(1===l)for(r=0;r<h.length;r++)h[r]=n(h[r],e,s,a,u);else for(r=0;r<h.length;r++){var c=h[r];for(o=0;o<c.length;o++)c[o]=n(c[o],e,s,a,u)}}return t.transformed=!0,t}function n(t,e,i,r,n){var o=Math.round(e*(t[0]*i-r)),s=Math.round(e*(t[1]*i-n));return[o,s]}i.tile=r,i.point=n},{}],7:[function(t,e,i){"use strict";function r(t,e,i){var r=t,o=s(t,1,-1-e,e,0,i,-1,2),a=s(t,1,1-e,2+e,0,i,-1,2);return(o||a)&&(r=s(t,1,-e,1+e,0,i,-1,2),o&&(r=n(o,1).concat(r)),a&&(r=r.concat(n(a,-1)))),r}function n(t,e){for(var i=[],r=0;r<t.length;r++){var n,s=t[r],a=s.type;if(1===a)n=o(s.geometry,e);else{n=[];for(var u=0;u<s.geometry.length;u++)n.push(o(s.geometry[u],e))}i.push({geometry:n,type:a,tags:s.tags,min:[s.min[0]+e,s.min[1]],max:[s.max[0]+e,s.max[1]]})}return i}function o(t,e){var i=[];i.area=t.area,i.dist=t.dist;for(var r=0;r<t.length;r++)i.push([t[r][0]+e,t[r][1],t[r][2]]);return i}var s=t("./clip");e.exports=r},{"./clip":1}]},{},[3])(3)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Pbf=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i?i:t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){"use strict";function r(t){var e;t&&t.length&&(e=t,t=e.length);var i=new Uint8Array(t||0);return e&&i.set(e),i.readUInt32LE=o.readUInt32LE,i.writeUInt32LE=o.writeUInt32LE,i.readInt32LE=o.readInt32LE,i.writeInt32LE=o.writeInt32LE,i.readFloatLE=o.readFloatLE,i.writeFloatLE=o.writeFloatLE,i.readDoubleLE=o.readDoubleLE,i.writeDoubleLE=o.writeDoubleLE,i.toString=o.toString,i.write=o.write,i.slice=o.slice,i.copy=o.copy,i._isBuffer=!0,i}function n(t){for(var e,i,r=t.length,n=[],o=0;r>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!i){e>56319||o+1===r?n.push(239,191,189):i=e;continue}if(56320>e){n.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&(n.push(239,191,189),i=null);128>e?n.push(e):2048>e?n.push(e>>6|192,63&e|128):65536>e?n.push(e>>12|224,e>>6&63|128,63&e|128):n.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return n}e.exports=r;var o,s,a,u=t("ieee754");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return u.read(this,t,!0,23,4)},readDoubleLE:function(t){return u.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return u.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return u.write(this,t,e,!0,52,8)},toString:function(t,e,i){var r="",n="";e=e||0,i=Math.min(this.length,i||this.length);for(var o=e;i>o;o++){var s=this[o];127>=s?(r+=decodeURIComponent(n)+String.fromCharCode(s),n=""):n+="%"+s.toString(16)}return r+=decodeURIComponent(n)},write:function(t,e){for(var i=t===s?a:n(t),r=0;r<i.length;r++)this[e+r]=i[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var i=0;i<this.length;i++)t[e+i]=this[i]}},o.writeInt32LE=o.writeUInt32LE,r.byteLength=function(t){return s=t,a=n(t),a.length},r.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:3}],2:[function(t,e,i){(function(i){"use strict";function r(t){this.buf=p.isBuffer(t)?t:new p(t||0),this.pos=0,this.length=this.buf.length}function n(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function o(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function s(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function a(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function h(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function l(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}e.exports=r;var p=i.Buffer||t("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var d=4294967296,v=1/d,g=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,o=this.pos;t(n,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*d;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*d;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,i,r,n,o,s=this.buf;if(i=s[this.pos++],128>i)return i;if(i=127&i,r=s[this.pos++],128>r)return i|r<<7;if(r=(127&r)<<7,n=s[this.pos++],128>n)return i|r|n<<14;if(n=(127&n)<<14,o=s[this.pos++],128>o)return i|r|n|o<<21;if(t=i|r|n|(127&o)<<21,e=s[this.pos++],t+=268435456*(127&e),128>e)return t;if(e=s[this.pos++],t+=34359738368*(127&e),128>e)return t;if(e=s[this.pos++],t+=4398046511104*(127&e),128>e)return t;if(e=s[this.pos++],t+=562949953421312*(127&e),128>e)return t;if(e=s[this.pos++],t+=72057594037927940*(127&e),128>e)return t;if(e=s[this.pos++],t+=0x8000000000000000*(127&e),128>e)return t;throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){var t=this.pos,e=this.readVarint();if(g>e)return e;for(var i=this.pos-2;255===this.buf[i];)i--;t>i&&(i=t),e=0;for(var r=0;i-t+1>r;r++){var n=127&~this.buf[t+r];e+=4>r?n<<7*r:n*Math.pow(2,7*r)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new p(e);this.buf.copy(i),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*v),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*v),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127>=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383>=t)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(2097151>=t)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(268435455>=t)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=p.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;e>i;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var r=this.pos-i,n=127>=r?1:16383>=r?2:2097151>=r?3:268435455>=r?4:Math.ceil(Math.log(r)/(7*Math.LN2));if(n>1){this.realloc(n-1);for(var o=this.pos-1;o>=i;o--)this.buf[o+n-1]=this.buf[o]}this.pos=i-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,i){this.writeTag(t,r.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,n,e)},writePackedSVarint:function(t,e){this.writeMessage(t,o,e)},writePackedBoolean:function(t,e){this.writeMessage(t,u,e)},writePackedFloat:function(t,e){this.writeMessage(t,s,e)},writePackedDouble:function(t,e){this.writeMessage(t,a,e)},writePackedFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,l,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,c,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":1}],3:[function(t,e,i){i.read=function(t,e,i,r,n){var o,s,a=8*n-r-1,u=(1<<a)-1,f=u>>1,h=-7,l=i?n-1:0,c=i?-1:1,p=t[e+l];for(l+=c,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=c,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=c,h-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=f}return(p?-1:1)*s*Math.pow(2,o-r)},i.write=function(t,e,i,r,n,o){var s,a,u,f=8*o-n-1,h=(1<<f)-1,l=h>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?c/u:c*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,n),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;t[i+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,f+=n;f>0;t[i+p]=255&s,p+=d,s/=256,f-=8);t[i+p-d]|=128*v}},{}]},{},[2])(2)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.topojson={})}(this,function(t){"use strict";function e(){}function i(t){if(!t)return e;var i,r,n=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(i=r=0),t[0]=(i+=t[0])*n+s,t[1]=(r+=t[1])*o+a}}function r(t){if(!t)return e;var i,r,n=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(i=r=0);var u=(t[0]-s)/n|0,f=(t[1]-a)/o|0;t[0]=u-i,t[1]=f-r,i=u,r=f}}function n(t,e){for(var i,r=t.length,n=r-e;n<--r;)i=t[n],t[n++]=t[r],t[r]=i}function o(t,e){for(var i=0,r=t.length;r>i;){var n=i+r>>>1;t[n]<e?i=n+1:r=n}return i}function s(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return a(t,e)})}:a(t,e)}function a(t,e){var i={type:"Feature",id:e.id,properties:e.properties||{},geometry:u(t,e)};return null==e.id&&delete i.id,i}function u(t,e){function r(t,e){e.length&&e.pop();for(var i,r=l[0>t?~t:t],o=0,s=r.length;s>o;++o)e.push(i=r[o].slice()),h(i,o);0>t&&n(e,s)}function o(t){return t=t.slice(),h(t,0),t}function s(t){for(var e=[],i=0,n=t.length;n>i;++i)r(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(a)}function f(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(f)}:e in c?{type:e,coordinates:c[e](t)}:null}var h=i(t.transform),l=t.arcs,c={Point:function(t){return o(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(o)},LineString:function(t){return s(t.arcs)},MultiLineString:function(t){return t.arcs.map(s)},Polygon:function(t){return u(t.arcs)},MultiPolygon:function(t){return t.arcs.map(u)}};return f(e)}function f(t,e){function i(e){var i,r=t.arcs[0>e?~e:e],n=r[0];return t.transform?(i=[0,0],r.forEach(function(t){i[0]+=t[0],i[1]+=t[1]})):i=r[r.length-1],0>e?[i,n]:[n,i]}function r(t,e){for(var i in t){var r=t[i];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){n[0>t?~t:t]=1}),a.push(r)}}var n={},o={},s={},a=[],u=-1;return e.forEach(function(i,r){var n,o=t.arcs[0>i?~i:i];o.length<3&&!o[1][0]&&!o[1][1]&&(n=e[++u],e[u]=i,e[r]=n)}),e.forEach(function(t){var e,r,n=i(t),a=n[0],u=n[1];if(e=s[a])if(delete s[e.end],e.push(t),e.end=u,r=o[u]){delete o[r.start];var f=r===e?e:e.concat(r);o[f.start=e.start]=s[f.end=r.end]=f}else o[e.start]=s[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=a,r=s[a]){delete s[r.end];var h=r===e?e:r.concat(e);o[h.start=r.start]=s[h.end=e.end]=h}else o[e.start]=s[e.end]=e;else e=[t],o[e.start=a]=s[e.end=u]=e}),r(s,o),r(o,s),e.forEach(function(t){n[0>t?~t:t]||a.push([t])}),a}function h(t){return u(t,l.apply(this,arguments))}function l(t,e,i){function r(t){var e=0>t?~t:t;(h[e]||(h[e]=[])).push({i:t,g:u})}function n(t){t.forEach(r)}function o(t){t.forEach(n)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in l&&(u=t,l[t.type](t.arcs))}var a=[];if(arguments.length>1){var u,h=[],l={LineString:n,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};s(e),h.forEach(arguments.length<3?function(t){a.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&a.push(t[0].i)})}else for(var c=0,p=t.arcs.length;p>c;++c)a.push(c);return{type:"MultiLineString",arcs:f(t,a)}}function c(t){var e=t[0],i=t[1],r=t[2];return Math.abs((e[0]-r[0])*(i[1]-e[1])-(e[0]-i[0])*(r[1]-e[1]))}function p(t){for(var e,i=-1,r=t.length,n=t[r-1],o=0;++i<r;)e=n,n=t[i],o+=e[0]*n[1]-e[1]*n[0];return o/2}function d(t){return u(t,v.apply(this,arguments))}function v(t,e){function i(t){t.forEach(function(e){e.forEach(function(e){(n[e=0>e?~e:e]||(n[e]=[])).push(t)})}),o.push(t)}function r(e){return p(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var n={},o=[],s=[];return e.forEach(function(t){"Polygon"===t.type?i(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(i)}),o.forEach(function(t){if(!t._){var e=[],i=[t];for(t._=1,s.push(e);t=i.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[0>t?~t:t].forEach(function(t){t._||(t._=1,i.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var i,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[0>t?~t:t].length<2&&o.push(t)})})}),o=f(t,o),(i=o.length)>1)for(var s,a=r(e[0][0]),u=0;i>u;++u)if(a===r(o[u])){s=o[0],o[0]=o[u],o[u]=s;break}return o})}}function g(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var i=n[t];i?i.push(e):n[t]=[e]})}function i(t,i){t.forEach(function(t){e(t,i)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var n={},s=t.map(function(){return[]}),a={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};t.forEach(r);for(var u in n)for(var f=n[u],h=f.length,l=0;h>l;++l)for(var c=l+1;h>c;++c){var p,d=f[l],v=f[c];(p=s[d])[u=o(p,v)]!==v&&p.splice(u,0,v),(p=s[v])[u=o(p,d)]!==d&&p.splice(u,0,d)}return s}function y(t,e){return t[1][2]-e[1][2]}function m(){function t(t,e){for(;e>0;){var i=(e+1>>1)-1,n=r[i];if(y(t,n)>=0)break;r[n._=e]=n,r[t._=e=i]=t}}function e(t,e){for(;;){var i=e+1<<1,o=i-1,s=e,a=r[s];if(n>o&&y(r[o],a)<0&&(a=r[s=o]),n>i&&y(r[i],a)<0&&(a=r[s=i]),s===e)break;r[a._=e]=a,r[t._=e=s]=t}}var i={},r=[],n=0;return i.push=function(e){return t(r[e._=n]=e,n++),n},i.pop=function(){if(!(0>=n)){var t,i=r[0];return--n>0&&(t=r[n],e(r[t._=0]=t,0)),i}},i.remove=function(i){var o,s=i._;if(r[s]===i)return s!==--n&&(o=r[n],(y(o,i)<0?t:e)(r[o._=s]=o,s)),s},i}function x(t,e){function n(t){a.remove(t),t[1][2]=e(t),a.push(t)}var o=i(t.transform),s=r(t.transform),a=m();return e||(e=c),t.arcs.forEach(function(t){var i,r,u,f,h=[],l=0;for(r=0,u=t.length;u>r;++r)f=t[r],o(t[r]=[f[0],f[1],1/0],r);for(r=1,u=t.length-1;u>r;++r)i=t.slice(r-1,r+2),i[1][2]=e(i),h.push(i),a.push(i);for(r=0,u=h.length;u>r;++r)i=h[r],i.previous=h[r-1],i.next=h[r+1];for(;i=a.pop();){var c=i.previous,p=i.next;i[1][2]<l?i[1][2]=l:l=i[1][2],c&&(c.next=p,c[2]=i[2],n(c)),p&&(p.previous=c,p[0]=i[0],n(p))}t.forEach(s)}),t}var w="1.6.24";t.version=w,t.mesh=h,t.meshArcs=l,t.merge=d,t.mergeArcs=v,t.feature=s,t.neighbors=g,t.presimplify=x}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vectorTile=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i?i:t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":2,"./lib/vectortilefeature.js":3,"./lib/vectortilelayer.js":4}],2:[function(t,e,i){"use strict";function r(t,e){this.layers=t.readFields(n,{},e)}function n(t,e,i){if(3===t){var r=new o(i,i.readVarint()+i.pos);r.length&&(e[r.name]=r)}}var o=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":4}],3:[function(t,e,i){"use strict";function r(t,e,i,r,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=o,t.readFields(n,this,e)}function n(t,e,i){1==t?e._id=i.readVarint():2==t?o(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var r=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[r]=n}}var s=t("point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,r=1,n=0,o=0,a=0,u=[];t.pos<i;){if(!n){var f=t.readVarint();r=7&f,n=f>>3}if(n--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&u.push(e),e=[]),e.push(new s(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&u.push(e),u},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,r=0,n=0,o=0,s=1/0,a=-(1/0),u=1/0,f=-(1/0);t.pos<e;){if(!r){var h=t.readVarint();i=7&h,r=h>>3}if(r--,1===i||2===i)n+=t.readSVarint(),o+=t.readSVarint(),s>n&&(s=n),n>a&&(a=n),u>o&&(u=o),o>f&&(f=o);else if(7!==i)throw new Error("unknown command "+i)}return[s,u,a,f]},r.prototype.toGeoJSON=function(t,e,i){for(var n=this.extent*Math.pow(2,i),o=this.extent*t,s=this.extent*e,a=this.loadGeometry(),u=r.types[this.type],f=0;f<a.length;f++)for(var h=a[f],l=0;l<h.length;l++){var c=h[l],p=180-360*(c.y+s)/n;h[l]=[360*(c.x+o)/n-180,360/Math.PI*Math.atan(Math.exp(p*Math.PI/180))-90]}"Point"===u&&1===a.length?a=a[0][0]:"Point"===u?(a=a[0],u="MultiPoint"):"LineString"===u&&1===a.length?a=a[0]:"LineString"===u&&(u="MultiLineString");var d={type:"Feature",geometry:{type:u,coordinates:a},properties:this.properties};return"_id"in this&&(d.id=this._id),d}},{"point-geometry":5}],4:[function(t,e,i){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(n,this,e),this.length=this._features.length}function n(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(o(i))}function o(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var s=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":3}],5:[function(t,e,i){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t);
},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.x-i*this.y,n=i*this.x+e*this.y;return this.x=r,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}]},{},[1])(1)}),L.SVG.Tile=L.SVG.extend({initialize:function(t,e){L.SVG.prototype.initialize.call(this,e),this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" "))},getContainer:function(){return this._container},onAdd:L.Util.FalseFn,_initContainer:function(){L.SVG.prototype._initContainer.call(this);L.SVG.create("rect")},_addPath:function(t){this._rootGroup.appendChild(t._path)}}),L.svg.tile=function(t,e){return new L.SVG.Tile(t,e)},L.Canvas.Tile=L.Canvas.extend({initialize:function(t,e){L.Canvas.prototype.initialize.call(this,e),this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={}},getContainer:function(){return this._container},onAdd:L.Util.FalseFn,_initContainer:function(){var t=this._container=document.createElement("canvas");this._ctx=t.getContext("2d")}}),L.canvas.tile=function(t,e){return new L.Canvas.Tile(t,e)},L.VectorGrid=L.GridLayer.extend({options:{rendererFactory:L.svg.tile,vectorTileLayerStyles:{}},createTile:function(t,e){var i=this.options.rendererFactory(this.getTileSize(),this.options),r=this._getVectorTilePromise(t);return r.then(function(r){for(var n in r.layers){var o=r.layers[n],s=this.getTileSize().x/o.extent,a=this.options.vectorTileLayerStyles[n]||L.Path.prototype.options;for(var u in o.features){var f=o.features[u];if(f.type>1){this._mkFeatureParts(f,s);var h=a instanceof Function?a(f.properties,t.z):a;h instanceof Array||(h=[h]);for(var l in h){var c=L.extend({},L.Path.prototype.options,h[l]);1===f.type?c.fill=!1:2===f.type&&(c.fill=!1),f.options=c,i._initPath(f),i._updateStyle(f),1===f.type||(2===f.type?(c.fill=!1,i._updatePoly(f,!1)):3===f.type&&i._updatePoly(f,!0)),i._addPath(f)}}}}L.Util.requestAnimFrame(e)}.bind(this)),i.getContainer()},_mkFeatureParts:function(t,e){var i=t.geometry;t._parts=[];for(var r in i){var n=i[r],o=[];for(var s in n){var a=n[s];"x"in a?o.push(L.point(a.x*e,a.y*e)):o.push(L.point(a[0]*e,a[1]*e))}t._parts.push(o)}}}),L.vectorGrid=function(t){return new L.VectorGrid(t)},L.VectorGrid.Slicer=L.VectorGrid.extend({options:{vectorTileLayerName:"sliced",extent:4096,maxZoom:14},initialize:function(t,e){if(L.VectorGrid.prototype.initialize.call(this,e),this._slicers={},t.type&&"Topology"===t.type)for(var i in t.objects)this._slicers[i]=geojsonvt(topojson.feature(t,t.objects[i]),this.options);else this._slicers[this.options.vectorTileLayerName]=geojsonvt(t,this.options)},_getVectorTilePromise:function(t){var e={};for(var i in this._slicers){var r=this._slicers[i],n=r.getTile(t.z,t.x,t.y);if(n){var o={features:[],extent:this.options.extent,name:this.options.vectorTileLayerName,length:n.features.length};for(var s in n.features){var a={geometry:n.features[s].geometry,properties:n.features[s].tags,type:n.features[s].type};o.features.push(a)}e[i]=o}}return new Promise(function(t){return t({layers:e})})}}),L.vectorGrid.slicer=function(t,e){return new L.VectorGrid.Slicer(t,e)},L.VectorGrid.Protobuf=L.VectorGrid.extend({options:{subdomains:"abc"},initialize:function(t,e){this._url=t,L.VectorGrid.prototype.initialize.call(this,e)},_getSubdomain:L.TileLayer.prototype._getSubdomain,_getVectorTilePromise:function(t){var e=L.Util.template(this._url,L.extend({s:this._getSubdomain(t),x:t.x,y:t.y,z:t.z},this.options));return fetch(e).then(function(t){return t.ok?t.blob().then(function(t){var e=new FileReader;return new Promise(function(i){e.addEventListener("loadend",function(){var t=new Pbf(e.result);return i(new vectorTile.VectorTile(t))}),e.readAsArrayBuffer(t)})}):{layers:[]}}).then(function(t){for(var e in t.layers){for(var i=[],r=0;r<t.layers[e].length;r++){var n=t.layers[e].feature(r);n.geometry=n.loadGeometry(),i.push(n)}t.layers[e].features=i}return t})}}),L.vectorGrid.protobuf=function(t,e){return new L.VectorGrid.Protobuf(t,e)};
//# sourceMappingURL=Leaflet.VectorGrid.bundled.min.js.map
